<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="./Players.js"></script>
    <script src="./Bird.js"></script>
    <title>Waiting for Players...</title>
  </head>
  <body class="background-image">
    <div id="selectionHeader" style="position:absolute; left:-1280px;">
      <img src="selectionHeader.png" alt="Selection Header"/>
    </div>
    <div>
      <img class="players-menu" src="playersMenu.png" alt="Players Menu"/>
      <button class="start-button" onclick="countdown()">START GAME</button>
      <button class="back-button" onclick="window.location.href='index.html'">BACK</button>
    </div>
      <center><div>
        <span id="countdownText"><span>
        <form id="nameForm">
          <input id="nickname" type="text" size="25" placeholder="Enter a nickname.."/>
          <input type ="button" id = "saveName" value="Save Name"/>
        </form>
      </div></center>
  </body>
</html>

<style>
  .background-image {
    background-image: url("background.png");
	  background-size: cover;
  }
  .players-menu {
    position: absolute;
    margin-left: 380px;
    margin-top: 100px;
  }
  .start-button {
    position: absolute;
    margin-top: 250px;
    margin-left: 550px;
    color: #3e8e41;
    background-color: white;
    font-family: verdana;
    font-weight: 700;
    font-size: 18px;
    width: 200px;
    height: 45px;
    border-radius: 5px;
  }
  .start-button:hover {
    background-color: #3e8e41;
    color: white;
  }
  .back-button {
    position: absolute;
    margin-top: 300px;
    margin-left: 550px;
    color: #ff3300;
    background-color: white;
    font-family: verdana;
    font-weight: 700;
    font-size: 18px;
    width: 200px;
    height: 45px;
    border-radius: 5px;
  }
  .back-button:hover {
    background-color: #ff3300;
    color: white;
  }
  #countdownText {
    position: absolute;
    color: #ff3300;
    font-family: verdana;
    font-size: 92px;
    margin-top: 400px;
    margin-left: -25px;
  }
</style>

<script>
  $(document).ready(function() {
    $("#selectionHeader").animate({left: "+=1280"}, 800);
    start = 0;

    $("#saveName").click(function(e){
      var name = $('#nickname').val();
      sessionStorage.setItem('name', name);
    });
  });

  function countdown() {
    start += 1;
    if (start === 1) {
      setTimeout(display3, 1200);
      setTimeout(display2, 2400);
      setTimeout(display1, 3600);
      setTimeout(startGame, 4800);
    }
  }

  function display3() {
    $('#countdownText').text('3')
  }

  function display2() {
    $('#countdownText').text('2')
  }

  function display1() {
    $('#countdownText').text('1')
  }

  function startGame() {
    window.location.href='game.html'
  }
</script>
